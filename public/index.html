<html>

<head>
    <title>Sokan Academy - part 7</title>
</head>

<body>
<div id="app1">
    <label>What's your favorite car company?</label>
    <br>

    <input type="text" v-model="favoriteCar">

    <hr>

    <p>{{ response }}</p>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<script>
    const app = new Vue({
        el: '#app1',
        data() {
            return {
                favoriteCar: null,
                response: ''
            }
        },

        // Watchers here
        watch: {
            favoriteCar(newValue, oldValue) {
                if (!newValue) return // If its an empty string, pass

                // If the new value contains the keyword BMW
                if (newValue.toLowerCase().indexOf('bmw') !== -1) {
                    this.response = 'this company have very nice cars!'
                    return
                }

                // If the new value contains the word Mercedes Benz
                if (newValue.toLowerCase().indexOf('mercedes benz') !== -1) {
                    this.response = 'this company have luxury cars'
                    return
                }

                // If the OLD value was BMW, and user changed it something else
                if (
                    oldValue.toLowerCase().indexOf('bmw') !== -1 &&
                    newValue.toLowerCase().indexOf('bmw') === -1
                ) {
                    this.response = 'the bmw was good but this is better'
                    return
                }

                // Default response
                this.response = 'is this a car company?'
            }
        }
    });
</script>
</body>

</html>